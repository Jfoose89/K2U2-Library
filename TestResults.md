# K2U2Library – Loan Insert Tests
Database: K2U2Library | SQL Server 2022
Author: Jordan F.

.This document contains test results for loan insert operations in the K2U2Library database, 
demonstrating transaction handling, availability updates, and rollbacks.



(65 rows affected)
Book availability reset.
BookID      Title                                                                                                                                                                                                                                                           CopiesAvailable CopiesTotal
----------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- --------------- -----------
25          Blood Rites                                                                                                                                                                                                                                                     4               4
62          Carpe Jugulum                                                                                                                                                                                                                                                   4               4
13          Chapterhouse: Dune                                                                                                                                                                                                                                              5               5
10          Children of Dune                                                                                                                                                                                                                                                5               5
26          Dead Beat                                                                                                                                                                                                                                                       4               4
24          Death Masks                                                                                                                                                                                                                                                     4               4
8           Dune                                                                                                                                                                                                                                                            5               5
9           Dune Messiah                                                                                                                                                                                                                                                    5               5
42          Equal Rites                                                                                                                                                                                                                                                     4               4
48          Eric                                                                                                                                                                                                                                                            3               3
58          Feet of Clay                                                                                                                                                                                                                                                    5               5
21          Fool Moon                                                                                                                                                                                                                                                       4               4
11          God Emperor of Dune                                                                                                                                                                                                                                             5               5
22          Grave Peril                                                                                                                                                                                                                                                     4               4
47          Guards! Guards!                                                                                                                                                                                                                                                 5               5
34          Halo: Contact Harvest                                                                                                                                                                                                                                           3               3
36          Halo: Evolutions Vol. I                                                                                                                                                                                                                                         3               3
37          Halo: Evolutions Vol. II                                                                                                                                                                                                                                        3               3
32          Halo: First Strike                                                                                                                                                                                                                                              3               3
33          Halo: Ghosts of Onyx                                                                                                                                                                                                                                            3               3
38          Halo: Glasslands                                                                                                                                                                                                                                                3               3
35          Halo: The Cole Protocol                                                                                                                                                                                                                                         3               3
30          Halo: The Fall of Reach                                                                                                                                                                                                                                         3               3
31          Halo: The Flood                                                                                                                                                                                                                                                 3               3
39          Halo: The Thursday War                                                                                                                                                                                                                                          3               3
2           Harry Potter and the Chamber of Secrets                                                                                                                                                                                                                         6               6
7           Harry Potter and the Deathly Hallows                                                                                                                                                                                                                            6               6
4           Harry Potter and the Goblet of Fire                                                                                                                                                                                                                             6               6
6           Harry Potter and the Half-Blood Prince                                                                                                                                                                                                                          6               6
5           Harry Potter and the Order of the Phoenix                                                                                                                                                                                                                       6               6
1           Harry Potter and the Philosopher's Stone                                                                                                                                                                                                                        6               6
3           Harry Potter and the Prisoner of Azkaban                                                                                                                                                                                                                        6               6
12          Heretics of Dune                                                                                                                                                                                                                                                5               5
59          Hogfather                                                                                                                                                                                                                                                       5               5
56          Interesting Times                                                                                                                                                                                                                                               4               4
60          Jingo                                                                                                                                                                                                                                                           5               5
53          Lords and Ladies                                                                                                                                                                                                                                                4               4
57          Maskerade                                                                                                                                                                                                                                                       4               4
54          Men at Arms                                                                                                                                                                                                                                                     5               5
43          Mort                                                                                                                                                                                                                                                            4               4
49          Moving Pictures                                                                                                                                                                                                                                                 4               4
27          Proven Guilty                                                                                                                                                                                                                                                   4               4
46          Pyramids                                                                                                                                                                                                                                                        4               4
50          Reaper Man                                                                                                                                                                                                                                                      4               4
29          Small Favor                                                                                                                                                                                                                                                     4               4
52          Small Gods                                                                                                                                                                                                                                                      5               5
55          Soul Music                                                                                                                                                                                                                                                      4               4
44          Sourcery                                                                                                                                                                                                                                                        4               4
20          Storm Front                                                                                                                                                                                                                                                     4               4
23          Summer Knight                                                                                                                                                                                                                                                   4               4
40          The Colour of Magic                                                                                                                                                                                                                                             4               4
18          The Elfstones of Shannara                                                                                                                                                                                                                                       4               4
14          The Fellowship of the Ring                                                                                                                                                                                                                                      5               5
63          The Fifth Elephant                                                                                                                                                                                                                                              5               5
61          The Last Continent                                                                                                                                                                                                                                              4               4
41          The Light Fantastic                                                                                                                                                                                                                                             4               4
16          The Return of the King                                                                                                                                                                                                                                          5               5
17          The Sword of Shannara                                                                                                                                                                                                                                           4               4
64          The Truth                                                                                                                                                                                                                                                       4               4
15          The Two Towers                                                                                                                                                                                                                                                  5               5
19          The Wishsong of Shannara                                                                                                                                                                                                                                        4               4
65          Thief of Time                                                                                                                                                                                                                                                   5               5
28          White Night                                                                                                                                                                                                                                                     4               4
51          Witches Abroad                                                                                                                                                                                                                                                  4               4
45          Wyrd Sisters                                                                                                                                                                                                                                                    4               4

(65 rows affected)

Test 1: Insert multiple active loans
LoanID      BookTitle                                                                                                                                                                                                                                                       Author                                                                                                                                                                                                                                                          FirstName                                                                                            LastName                                                                                             LoanDate                DueDate
----------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- ---------------------------------------------------------------------------------------------------- ---------------------------------------------------------------------------------------------------- ----------------------- -----------------------
3           Storm Front                                                                                                                                                                                                                                                     Jim Butcher                                                                                                                                                                                                                                                     William                                                                                              Åkesson                                                                                              2025-12-19 13:02:46.330 2026-01-02 13:02:46.330
4           Guards! Guards!                                                                                                                                                                                                                                                 Terry Pratchett                                                                                                                                                                                                                                                 Sofia                                                                                                Holm                                                                                                 2025-12-21 13:03:05.467 2026-01-04 13:03:05.467
1           Dune                                                                                                                                                                                                                                                            Frank Herbert                                                                                                                                                                                                                                                   Ethan                                                                                                Cole                                                                                                 2025-12-22 12:56:50.990 2026-01-05 12:56:50.990
5           Halo: The Fall of Reach                                                                                                                                                                                                                                         Eric Nylund                                                                                                                                                                                                                                                     Oliver                                                                                               Sjöberg                                                                                              2025-12-23 13:03:38.810 2026-01-06 13:03:38.810
2           Harry Potter and the Philosopher's Stone                                                                                                                                                                                                                        J.K. Rowling                                                                                                                                                                                                                                                    Ella                                                                                                 Fors                                                                                                 2025-12-24 13:01:24.393 2026-01-07 13:01:24.393
7           Dune                                                                                                                                                                                                                                                            Frank Herbert                                                                                                                                                                                                                                                   Ethan                                                                                                Cole                                                                                                 2025-12-25 13:28:56.323 2026-01-08 13:28:56.323
8           Dune                                                                                                                                                                                                                                                            Frank Herbert                                                                                                                                                                                                                                                   Ethan                                                                                                Cole                                                                                                 2025-12-25 14:03:25.403 2026-01-08 14:03:25.403
9           Harry Potter and the Philosopher's Stone                                                                                                                                                                                                                        J.K. Rowling                                                                                                                                                                                                                                                    Ella                                                                                                 Fors                                                                                                 2025-12-25 14:03:25.407 2026-01-08 14:03:25.407
10          Storm Front                                                                                                                                                                                                                                                     Jim Butcher                                                                                                                                                                                                                                                     William                                                                                              Åkesson                                                                                              2025-12-25 14:03:25.407 2026-01-08 14:03:25.407
11          Guards! Guards!                                                                                                                                                                                                                                                 Terry Pratchett                                                                                                                                                                                                                                                 Sofia                                                                                                Holm                                                                                                 2025-12-25 14:03:25.410 2026-01-08 14:03:25.410
12          Halo: The Fall of Reach                                                                                                                                                                                                                                         Eric Nylund                                                                                                                                                                                                                                                     Oliver                                                                                               Sjöberg                                                                                              2025-12-25 14:03:25.410 2026-01-08 14:03:25.410
13          Dune                                                                                                                                                                                                                                                            Frank Herbert                                                                                                                                                                                                                                                   Ethan                                                                                                Cole                                                                                                 2025-12-25 14:04:03.503 2026-01-08 14:04:03.503
14          Harry Potter and the Philosopher's Stone                                                                                                                                                                                                                        J.K. Rowling                                                                                                                                                                                                                                                    Ella                                                                                                 Fors                                                                                                 2025-12-25 14:04:03.503 2026-01-08 14:04:03.503
15          Storm Front                                                                                                                                                                                                                                                     Jim Butcher                                                                                                                                                                                                                                                     William                                                                                              Åkesson                                                                                              2025-12-25 14:04:03.503 2026-01-08 14:04:03.503
16          Guards! Guards!                                                                                                                                                                                                                                                 Terry Pratchett                                                                                                                                                                                                                                                 Sofia                                                                                                Holm                                                                                                 2025-12-25 14:04:03.503 2026-01-08 14:04:03.503
17          Halo: The Fall of Reach                                                                                                                                                                                                                                         Eric Nylund                                                                                                                                                                                                                                                     Oliver                                                                                               Sjöberg                                                                                              2025-12-25 14:04:03.507 2026-01-08 14:04:03.507
19          Dune                                                                                                                                                                                                                                                            Frank Herbert                                                                                                                                                                                                                                                   Ethan                                                                                                Cole                                                                                                 2025-12-25 14:08:05.707 2026-01-08 14:08:05.707
20          Harry Potter and the Philosopher's Stone                                                                                                                                                                                                                        J.K. Rowling                                                                                                                                                                                                                                                    Ella                                                                                                 Fors                                                                                                 2025-12-25 14:08:05.707 2026-01-08 14:08:05.707
21          Storm Front                                                                                                                                                                                                                                                     Jim Butcher                                                                                                                                                                                                                                                     William                                                                                              Åkesson                                                                                              2025-12-25 14:08:05.707 2026-01-08 14:08:05.707
22          Guards! Guards!                                                                                                                                                                                                                                                 Terry Pratchett                                                                                                                                                                                                                                                 Sofia                                                                                                Holm                                                                                                 2025-12-25 14:08:05.710 2026-01-08 14:08:05.710
23          Halo: The Fall of Reach                                                                                                                                                                                                                                         Eric Nylund                                                                                                                                                                                                                                                     Oliver                                                                                               Sjöberg                                                                                              2025-12-25 14:08:05.710 2026-01-08 14:08:05.710

(21 rows affected)

BookID      Title                                                                                                                                                                                                                                                           CopiesAvailable CopiesTotal
----------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- --------------- -----------
25          Blood Rites                                                                                                                                                                                                                                                     4               4
62          Carpe Jugulum                                                                                                                                                                                                                                                   4               4
13          Chapterhouse: Dune                                                                                                                                                                                                                                              5               5
10          Children of Dune                                                                                                                                                                                                                                                5               5
26          Dead Beat                                                                                                                                                                                                                                                       4               4
24          Death Masks                                                                                                                                                                                                                                                     4               4
8           Dune                                                                                                                                                                                                                                                            4               5
9           Dune Messiah                                                                                                                                                                                                                                                    5               5
42          Equal Rites                                                                                                                                                                                                                                                     4               4
48          Eric                                                                                                                                                                                                                                                            3               3
58          Feet of Clay                                                                                                                                                                                                                                                    5               5
21          Fool Moon                                                                                                                                                                                                                                                       4               4
11          God Emperor of Dune                                                                                                                                                                                                                                             5               5
22          Grave Peril                                                                                                                                                                                                                                                     4               4
47          Guards! Guards!                                                                                                                                                                                                                                                 4               5
34          Halo: Contact Harvest                                                                                                                                                                                                                                           3               3
36          Halo: Evolutions Vol. I                                                                                                                                                                                                                                         3               3
37          Halo: Evolutions Vol. II                                                                                                                                                                                                                                        3               3
32          Halo: First Strike                                                                                                                                                                                                                                              3               3
33          Halo: Ghosts of Onyx                                                                                                                                                                                                                                            3               3
38          Halo: Glasslands                                                                                                                                                                                                                                                3               3
35          Halo: The Cole Protocol                                                                                                                                                                                                                                         3               3
30          Halo: The Fall of Reach                                                                                                                                                                                                                                         2               3
31          Halo: The Flood                                                                                                                                                                                                                                                 3               3
39          Halo: The Thursday War                                                                                                                                                                                                                                          3               3
2           Harry Potter and the Chamber of Secrets                                                                                                                                                                                                                         6               6
7           Harry Potter and the Deathly Hallows                                                                                                                                                                                                                            6               6
4           Harry Potter and the Goblet of Fire                                                                                                                                                                                                                             6               6
6           Harry Potter and the Half-Blood Prince                                                                                                                                                                                                                          6               6
5           Harry Potter and the Order of the Phoenix                                                                                                                                                                                                                       6               6
1           Harry Potter and the Philosopher's Stone                                                                                                                                                                                                                        5               6
3           Harry Potter and the Prisoner of Azkaban                                                                                                                                                                                                                        6               6
12          Heretics of Dune                                                                                                                                                                                                                                                5               5
59          Hogfather                                                                                                                                                                                                                                                       5               5
56          Interesting Times                                                                                                                                                                                                                                               4               4
60          Jingo                                                                                                                                                                                                                                                           5               5
53          Lords and Ladies                                                                                                                                                                                                                                                4               4
57          Maskerade                                                                                                                                                                                                                                                       4               4
54          Men at Arms                                                                                                                                                                                                                                                     5               5
43          Mort                                                                                                                                                                                                                                                            4               4
49          Moving Pictures                                                                                                                                                                                                                                                 4               4
27          Proven Guilty                                                                                                                                                                                                                                                   4               4
46          Pyramids                                                                                                                                                                                                                                                        4               4
50          Reaper Man                                                                                                                                                                                                                                                      4               4
29          Small Favor                                                                                                                                                                                                                                                     4               4
52          Small Gods                                                                                                                                                                                                                                                      5               5
55          Soul Music                                                                                                                                                                                                                                                      4               4
44          Sourcery                                                                                                                                                                                                                                                        4               4
20          Storm Front                                                                                                                                                                                                                                                     3               4
23          Summer Knight                                                                                                                                                                                                                                                   4               4
40          The Colour of Magic                                                                                                                                                                                                                                             4               4
18          The Elfstones of Shannara                                                                                                                                                                                                                                       4               4
14          The Fellowship of the Ring                                                                                                                                                                                                                                      5               5
63          The Fifth Elephant                                                                                                                                                                                                                                              5               5
61          The Last Continent                                                                                                                                                                                                                                              4               4
41          The Light Fantastic                                                                                                                                                                                                                                             4               4
16          The Return of the King                                                                                                                                                                                                                                          5               5
17          The Sword of Shannara                                                                                                                                                                                                                                           4               4
64          The Truth                                                                                                                                                                                                                                                       4               4
15          The Two Towers                                                                                                                                                                                                                                                  5               5
19          The Wishsong of Shannara                                                                                                                                                                                                                                        4               4
65          Thief of Time                                                                                                                                                                                                                                                   5               5
28          White Night                                                                                                                                                                                                                                                     4               4
51          Witches Abroad                                                                                                                                                                                                                                                  4               4
45          Wyrd Sisters                                                                                                                                                                                                                                                    4               4

(65 rows affected)

Test 2: Insert a returned loan (simulated past loan)

(1 row affected)

(1 row affected)
LoanID      BookTitle                                                                                                                                                                                                                                                       Author                                                                                                                                                                                                                                                          FirstName                                                                                            LastName                                                                                             LoanDate                DueDate
----------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- ---------------------------------------------------------------------------------------------------- ---------------------------------------------------------------------------------------------------- ----------------------- -----------------------
3           Storm Front                                                                                                                                                                                                                                                     Jim Butcher                                                                                                                                                                                                                                                     William                                                                                              Åkesson                                                                                              2025-12-19 13:02:46.330 2026-01-02 13:02:46.330
4           Guards! Guards!                                                                                                                                                                                                                                                 Terry Pratchett                                                                                                                                                                                                                                                 Sofia                                                                                                Holm                                                                                                 2025-12-21 13:03:05.467 2026-01-04 13:03:05.467
1           Dune                                                                                                                                                                                                                                                            Frank Herbert                                                                                                                                                                                                                                                   Ethan                                                                                                Cole                                                                                                 2025-12-22 12:56:50.990 2026-01-05 12:56:50.990
5           Halo: The Fall of Reach                                                                                                                                                                                                                                         Eric Nylund                                                                                                                                                                                                                                                     Oliver                                                                                               Sjöberg                                                                                              2025-12-23 13:03:38.810 2026-01-06 13:03:38.810
2           Harry Potter and the Philosopher's Stone                                                                                                                                                                                                                        J.K. Rowling                                                                                                                                                                                                                                                    Ella                                                                                                 Fors                                                                                                 2025-12-24 13:01:24.393 2026-01-07 13:01:24.393
7           Dune                                                                                                                                                                                                                                                            Frank Herbert                                                                                                                                                                                                                                                   Ethan                                                                                                Cole                                                                                                 2025-12-25 13:28:56.323 2026-01-08 13:28:56.323
8           Dune                                                                                                                                                                                                                                                            Frank Herbert                                                                                                                                                                                                                                                   Ethan                                                                                                Cole                                                                                                 2025-12-25 14:03:25.403 2026-01-08 14:03:25.403
9           Harry Potter and the Philosopher's Stone                                                                                                                                                                                                                        J.K. Rowling                                                                                                                                                                                                                                                    Ella                                                                                                 Fors                                                                                                 2025-12-25 14:03:25.407 2026-01-08 14:03:25.407
10          Storm Front                                                                                                                                                                                                                                                     Jim Butcher                                                                                                                                                                                                                                                     William                                                                                              Åkesson                                                                                              2025-12-25 14:03:25.407 2026-01-08 14:03:25.407
11          Guards! Guards!                                                                                                                                                                                                                                                 Terry Pratchett                                                                                                                                                                                                                                                 Sofia                                                                                                Holm                                                                                                 2025-12-25 14:03:25.410 2026-01-08 14:03:25.410
12          Halo: The Fall of Reach                                                                                                                                                                                                                                         Eric Nylund                                                                                                                                                                                                                                                     Oliver                                                                                               Sjöberg                                                                                              2025-12-25 14:03:25.410 2026-01-08 14:03:25.410
13          Dune                                                                                                                                                                                                                                                            Frank Herbert                                                                                                                                                                                                                                                   Ethan                                                                                                Cole                                                                                                 2025-12-25 14:04:03.503 2026-01-08 14:04:03.503
14          Harry Potter and the Philosopher's Stone                                                                                                                                                                                                                        J.K. Rowling                                                                                                                                                                                                                                                    Ella                                                                                                 Fors                                                                                                 2025-12-25 14:04:03.503 2026-01-08 14:04:03.503
15          Storm Front                                                                                                                                                                                                                                                     Jim Butcher                                                                                                                                                                                                                                                     William                                                                                              Åkesson                                                                                              2025-12-25 14:04:03.503 2026-01-08 14:04:03.503
16          Guards! Guards!                                                                                                                                                                                                                                                 Terry Pratchett                                                                                                                                                                                                                                                 Sofia                                                                                                Holm                                                                                                 2025-12-25 14:04:03.503 2026-01-08 14:04:03.503
17          Halo: The Fall of Reach                                                                                                                                                                                                                                         Eric Nylund                                                                                                                                                                                                                                                     Oliver                                                                                               Sjöberg                                                                                              2025-12-25 14:04:03.507 2026-01-08 14:04:03.507
19          Dune                                                                                                                                                                                                                                                            Frank Herbert                                                                                                                                                                                                                                                   Ethan                                                                                                Cole                                                                                                 2025-12-25 14:08:05.707 2026-01-08 14:08:05.707
20          Harry Potter and the Philosopher's Stone                                                                                                                                                                                                                        J.K. Rowling                                                                                                                                                                                                                                                    Ella                                                                                                 Fors                                                                                                 2025-12-25 14:08:05.707 2026-01-08 14:08:05.707
21          Storm Front                                                                                                                                                                                                                                                     Jim Butcher                                                                                                                                                                                                                                                     William                                                                                              Åkesson                                                                                              2025-12-25 14:08:05.707 2026-01-08 14:08:05.707
22          Guards! Guards!                                                                                                                                                                                                                                                 Terry Pratchett                                                                                                                                                                                                                                                 Sofia                                                                                                Holm                                                                                                 2025-12-25 14:08:05.710 2026-01-08 14:08:05.710
23          Halo: The Fall of Reach                                                                                                                                                                                                                                         Eric Nylund                                                                                                                                                                                                                                                     Oliver                                                                                               Sjöberg                                                                                              2025-12-25 14:08:05.710 2026-01-08 14:08:05.710

(21 rows affected)

BookID      Title                                                                                                                                                                                                                                                           CopiesAvailable CopiesTotal
----------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- --------------- -----------
25          Blood Rites                                                                                                                                                                                                                                                     4               4
62          Carpe Jugulum                                                                                                                                                                                                                                                   4               4
13          Chapterhouse: Dune                                                                                                                                                                                                                                              5               5
10          Children of Dune                                                                                                                                                                                                                                                5               5
26          Dead Beat                                                                                                                                                                                                                                                       4               4
24          Death Masks                                                                                                                                                                                                                                                     4               4
8           Dune                                                                                                                                                                                                                                                            4               5
9           Dune Messiah                                                                                                                                                                                                                                                    5               5
42          Equal Rites                                                                                                                                                                                                                                                     4               4
48          Eric                                                                                                                                                                                                                                                            3               3
58          Feet of Clay                                                                                                                                                                                                                                                    5               5
21          Fool Moon                                                                                                                                                                                                                                                       4               4
11          God Emperor of Dune                                                                                                                                                                                                                                             5               5
22          Grave Peril                                                                                                                                                                                                                                                     4               4
47          Guards! Guards!                                                                                                                                                                                                                                                 4               5
34          Halo: Contact Harvest                                                                                                                                                                                                                                           3               3
36          Halo: Evolutions Vol. I                                                                                                                                                                                                                                         3               3
37          Halo: Evolutions Vol. II                                                                                                                                                                                                                                        3               3
32          Halo: First Strike                                                                                                                                                                                                                                              3               3
33          Halo: Ghosts of Onyx                                                                                                                                                                                                                                            3               3
38          Halo: Glasslands                                                                                                                                                                                                                                                3               3
35          Halo: The Cole Protocol                                                                                                                                                                                                                                         3               3
30          Halo: The Fall of Reach                                                                                                                                                                                                                                         2               3
31          Halo: The Flood                                                                                                                                                                                                                                                 3               3
39          Halo: The Thursday War                                                                                                                                                                                                                                          3               3
2           Harry Potter and the Chamber of Secrets                                                                                                                                                                                                                         6               6
7           Harry Potter and the Deathly Hallows                                                                                                                                                                                                                            6               6
4           Harry Potter and the Goblet of Fire                                                                                                                                                                                                                             6               6
6           Harry Potter and the Half-Blood Prince                                                                                                                                                                                                                          6               6
5           Harry Potter and the Order of the Phoenix                                                                                                                                                                                                                       6               6
1           Harry Potter and the Philosopher's Stone                                                                                                                                                                                                                        5               6
3           Harry Potter and the Prisoner of Azkaban                                                                                                                                                                                                                        6               6
12          Heretics of Dune                                                                                                                                                                                                                                                5               5
59          Hogfather                                                                                                                                                                                                                                                       5               5
56          Interesting Times                                                                                                                                                                                                                                               4               4
60          Jingo                                                                                                                                                                                                                                                           5               5
53          Lords and Ladies                                                                                                                                                                                                                                                4               4
57          Maskerade                                                                                                                                                                                                                                                       4               4
54          Men at Arms                                                                                                                                                                                                                                                     5               5
43          Mort                                                                                                                                                                                                                                                            4               4
49          Moving Pictures                                                                                                                                                                                                                                                 4               4
27          Proven Guilty                                                                                                                                                                                                                                                   4               4
46          Pyramids                                                                                                                                                                                                                                                        4               4
50          Reaper Man                                                                                                                                                                                                                                                      4               4
29          Small Favor                                                                                                                                                                                                                                                     4               4
52          Small Gods                                                                                                                                                                                                                                                      5               5
55          Soul Music                                                                                                                                                                                                                                                      4               4
44          Sourcery                                                                                                                                                                                                                                                        4               4
20          Storm Front                                                                                                                                                                                                                                                     3               4
23          Summer Knight                                                                                                                                                                                                                                                   4               4
40          The Colour of Magic                                                                                                                                                                                                                                             4               4
18          The Elfstones of Shannara                                                                                                                                                                                                                                       4               4
14          The Fellowship of the Ring                                                                                                                                                                                                                                      6               5
63          The Fifth Elephant                                                                                                                                                                                                                                              5               5
61          The Last Continent                                                                                                                                                                                                                                              4               4
41          The Light Fantastic                                                                                                                                                                                                                                             4               4
16          The Return of the King                                                                                                                                                                                                                                          5               5
17          The Sword of Shannara                                                                                                                                                                                                                                           4               4
64          The Truth                                                                                                                                                                                                                                                       4               4
15          The Two Towers                                                                                                                                                                                                                                                  5               5
19          The Wishsong of Shannara                                                                                                                                                                                                                                        4               4
65          Thief of Time                                                                                                                                                                                                                                                   5               5
28          White Night                                                                                                                                                                                                                                                     4               4
51          Witches Abroad                                                                                                                                                                                                                                                  4               4
45          Wyrd Sisters                                                                                                                                                                                                                                                    4               4

(65 rows affected)

Test 3: Borrow book with no copies (should rollback)

(1 row affected)
Expected error caught: No copies available
BookID      Title                                                                                                                                                                                                                                                           CopiesAvailable CopiesTotal
----------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- --------------- -----------
26          Dead Beat                                                                                                                                                                                                                                                       0               4

(1 row affected)

Final active loans and book availabílity
LoanID      BookTitle                                                                                                                                                                                                                                                       Author                                                                                                                                                                                                                                                          FirstName                                                                                            LastName                                                                                             LoanDate                DueDate
----------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- ---------------------------------------------------------------------------------------------------- ---------------------------------------------------------------------------------------------------- ----------------------- -----------------------
3           Storm Front                                                                                                                                                                                                                                                     Jim Butcher                                                                                                                                                                                                                                                     William                                                                                              Åkesson                                                                                              2025-12-19 13:02:46.330 2026-01-02 13:02:46.330
4           Guards! Guards!                                                                                                                                                                                                                                                 Terry Pratchett                                                                                                                                                                                                                                                 Sofia                                                                                                Holm                                                                                                 2025-12-21 13:03:05.467 2026-01-04 13:03:05.467
1           Dune                                                                                                                                                                                                                                                            Frank Herbert                                                                                                                                                                                                                                                   Ethan                                                                                                Cole                                                                                                 2025-12-22 12:56:50.990 2026-01-05 12:56:50.990
5           Halo: The Fall of Reach                                                                                                                                                                                                                                         Eric Nylund                                                                                                                                                                                                                                                     Oliver                                                                                               Sjöberg                                                                                              2025-12-23 13:03:38.810 2026-01-06 13:03:38.810
2           Harry Potter and the Philosopher's Stone                                                                                                                                                                                                                        J.K. Rowling                                                                                                                                                                                                                                                    Ella                                                                                                 Fors                                                                                                 2025-12-24 13:01:24.393 2026-01-07 13:01:24.393
7           Dune                                                                                                                                                                                                                                                            Frank Herbert                                                                                                                                                                                                                                                   Ethan                                                                                                Cole                                                                                                 2025-12-25 13:28:56.323 2026-01-08 13:28:56.323
8           Dune                                                                                                                                                                                                                                                            Frank Herbert                                                                                                                                                                                                                                                   Ethan                                                                                                Cole                                                                                                 2025-12-25 14:03:25.403 2026-01-08 14:03:25.403
9           Harry Potter and the Philosopher's Stone                                                                                                                                                                                                                        J.K. Rowling                                                                                                                                                                                                                                                    Ella                                                                                                 Fors                                                                                                 2025-12-25 14:03:25.407 2026-01-08 14:03:25.407
10          Storm Front                                                                                                                                                                                                                                                     Jim Butcher                                                                                                                                                                                                                                                     William                                                                                              Åkesson                                                                                              2025-12-25 14:03:25.407 2026-01-08 14:03:25.407
11          Guards! Guards!                                                                                                                                                                                                                                                 Terry Pratchett                                                                                                                                                                                                                                                 Sofia                                                                                                Holm                                                                                                 2025-12-25 14:03:25.410 2026-01-08 14:03:25.410
12          Halo: The Fall of Reach                                                                                                                                                                                                                                         Eric Nylund                                                                                                                                                                                                                                                     Oliver                                                                                               Sjöberg                                                                                              2025-12-25 14:03:25.410 2026-01-08 14:03:25.410
13          Dune                                                                                                                                                                                                                                                            Frank Herbert                                                                                                                                                                                                                                                   Ethan                                                                                                Cole                                                                                                 2025-12-25 14:04:03.503 2026-01-08 14:04:03.503
14          Harry Potter and the Philosopher's Stone                                                                                                                                                                                                                        J.K. Rowling                                                                                                                                                                                                                                                    Ella                                                                                                 Fors                                                                                                 2025-12-25 14:04:03.503 2026-01-08 14:04:03.503
15          Storm Front                                                                                                                                                                                                                                                     Jim Butcher                                                                                                                                                                                                                                                     William                                                                                              Åkesson                                                                                              2025-12-25 14:04:03.503 2026-01-08 14:04:03.503
16          Guards! Guards!                                                                                                                                                                                                                                                 Terry Pratchett                                                                                                                                                                                                                                                 Sofia                                                                                                Holm                                                                                                 2025-12-25 14:04:03.503 2026-01-08 14:04:03.503
17          Halo: The Fall of Reach                                                                                                                                                                                                                                         Eric Nylund                                                                                                                                                                                                                                                     Oliver                                                                                               Sjöberg                                                                                              2025-12-25 14:04:03.507 2026-01-08 14:04:03.507
19          Dune                                                                                                                                                                                                                                                            Frank Herbert                                                                                                                                                                                                                                                   Ethan                                                                                                Cole                                                                                                 2025-12-25 14:08:05.707 2026-01-08 14:08:05.707
20          Harry Potter and the Philosopher's Stone                                                                                                                                                                                                                        J.K. Rowling                                                                                                                                                                                                                                                    Ella                                                                                                 Fors                                                                                                 2025-12-25 14:08:05.707 2026-01-08 14:08:05.707
21          Storm Front                                                                                                                                                                                                                                                     Jim Butcher                                                                                                                                                                                                                                                     William                                                                                              Åkesson                                                                                              2025-12-25 14:08:05.707 2026-01-08 14:08:05.707
22          Guards! Guards!                                                                                                                                                                                                                                                 Terry Pratchett                                                                                                                                                                                                                                                 Sofia                                                                                                Holm                                                                                                 2025-12-25 14:08:05.710 2026-01-08 14:08:05.710
23          Halo: The Fall of Reach                                                                                                                                                                                                                                         Eric Nylund                                                                                                                                                                                                                                                     Oliver                                                                                               Sjöberg                                                                                              2025-12-25 14:08:05.710 2026-01-08 14:08:05.710

(21 rows affected)

BookID      Title                                                                                                                                                                                                                                                           CopiesAvailable CopiesTotal
----------- --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- --------------- -----------
25          Blood Rites                                                                                                                                                                                                                                                     4               4
62          Carpe Jugulum                                                                                                                                                                                                                                                   4               4
13          Chapterhouse: Dune                                                                                                                                                                                                                                              5               5
10          Children of Dune                                                                                                                                                                                                                                                5               5
26          Dead Beat                                                                                                                                                                                                                                                       0               4
24          Death Masks                                                                                                                                                                                                                                                     4               4
8           Dune                                                                                                                                                                                                                                                            4               5
9           Dune Messiah                                                                                                                                                                                                                                                    5               5
42          Equal Rites                                                                                                                                                                                                                                                     4               4
48          Eric                                                                                                                                                                                                                                                            3               3
58          Feet of Clay                                                                                                                                                                                                                                                    5               5
21          Fool Moon                                                                                                                                                                                                                                                       4               4
11          God Emperor of Dune                                                                                                                                                                                                                                             5               5
22          Grave Peril                                                                                                                                                                                                                                                     4               4
47          Guards! Guards!                                                                                                                                                                                                                                                 4               5
34          Halo: Contact Harvest                                                                                                                                                                                                                                           3               3
36          Halo: Evolutions Vol. I                                                                                                                                                                                                                                         3               3
37          Halo: Evolutions Vol. II                                                                                                                                                                                                                                        3               3
32          Halo: First Strike                                                                                                                                                                                                                                              3               3
33          Halo: Ghosts of Onyx                                                                                                                                                                                                                                            3               3
38          Halo: Glasslands                                                                                                                                                                                                                                                3               3
35          Halo: The Cole Protocol                                                                                                                                                                                                                                         3               3
30          Halo: The Fall of Reach                                                                                                                                                                                                                                         2               3
31          Halo: The Flood                                                                                                                                                                                                                                                 3               3
39          Halo: The Thursday War                                                                                                                                                                                                                                          3               3
2           Harry Potter and the Chamber of Secrets                                                                                                                                                                                                                         6               6
7           Harry Potter and the Deathly Hallows                                                                                                                                                                                                                            6               6
4           Harry Potter and the Goblet of Fire                                                                                                                                                                                                                             6               6
6           Harry Potter and the Half-Blood Prince                                                                                                                                                                                                                          6               6
5           Harry Potter and the Order of the Phoenix                                                                                                                                                                                                                       6               6
1           Harry Potter and the Philosopher's Stone                                                                                                                                                                                                                        5               6
3           Harry Potter and the Prisoner of Azkaban                                                                                                                                                                                                                        6               6
12          Heretics of Dune                                                                                                                                                                                                                                                5               5
59          Hogfather                                                                                                                                                                                                                                                       5               5
56          Interesting Times                                                                                                                                                                                                                                               4               4
60          Jingo                                                                                                                                                                                                                                                           5               5
53          Lords and Ladies                                                                                                                                                                                                                                                4               4
57          Maskerade                                                                                                                                                                                                                                                       4               4
54          Men at Arms                                                                                                                                                                                                                                                     5               5
43          Mort                                                                                                                                                                                                                                                            4               4
49          Moving Pictures                                                                                                                                                                                                                                                 4               4
27          Proven Guilty                                                                                                                                                                                                                                                   4               4
46          Pyramids                                                                                                                                                                                                                                                        4               4
50          Reaper Man                                                                                                                                                                                                                                                      4               4
29          Small Favor                                                                                                                                                                                                                                                     4               4
52          Small Gods                                                                                                                                                                                                                                                      5               5
55          Soul Music                                                                                                                                                                                                                                                      4               4
44          Sourcery                                                                                                                                                                                                                                                        4               4
20          Storm Front                                                                                                                                                                                                                                                     3               4
23          Summer Knight                                                                                                                                                                                                                                                   4               4
40          The Colour of Magic                                                                                                                                                                                                                                             4               4
18          The Elfstones of Shannara                                                                                                                                                                                                                                       4               4
14          The Fellowship of the Ring                                                                                                                                                                                                                                      6               5
63          The Fifth Elephant                                                                                                                                                                                                                                              5               5
61          The Last Continent                                                                                                                                                                                                                                              4               4
41          The Light Fantastic                                                                                                                                                                                                                                             4               4
16          The Return of the King                                                                                                                                                                                                                                          5               5
17          The Sword of Shannara                                                                                                                                                                                                                                           4               4
64          The Truth                                                                                                                                                                                                                                                       4               4
15          The Two Towers                                                                                                                                                                                                                                                  5               5
19          The Wishsong of Shannara                                                                                                                                                                                                                                        4               4
65          Thief of Time                                                                                                                                                                                                                                                   5               5
28          White Night                                                                                                                                                                                                                                                     4               4
51          Witches Abroad                                                                                                                                                                                                                                                  4               4
45          Wyrd Sisters                                                                                                                                                                                                                                                    4               4

(65 rows affected)


Completion time: 2025-12-25T14:08:05.9431502+01:00
